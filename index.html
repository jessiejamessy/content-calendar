<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Content Cowboy Interactive Calendar</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Slackey&display=swap" rel="stylesheet">
    <script type="module">
        // Import the functions you need from the SDKs you need
        // Updated Firebase SDK versions to 12.0.0 as per user's provided script
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-analytics.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-auth.js";
        import { getFirestore, doc, getDoc, setDoc, updateDoc, deleteDoc, onSnapshot, collection, query, where, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-firestore.js";

        // Your web app's Firebase configuration - INSERTED USER'S PROVIDED CONFIG HERE
        const firebaseConfig = {
            apiKey: "AIzaSyAqOoWBpthRQBI7Xgi-co3-Wrf8jX_nPnY",
            authDomain: "contentcalendar-10154.firebaseapp.com",
            projectId: "contentcalendar-10154",
            storageBucket: "contentcalendar-10154.firebasestorage.app",
            messagingSenderId: "309580896666",
            appId: "1:309580896666:web:9d987624d2efd644960223"
            
        };

        // Define global variables for Firebase config and app ID
        // We use firebaseConfig.projectId as the appId for consistency with Firestore paths
        const appId = firebaseConfig.projectId;
        // initialAuthToken is typically provided by the Canvas environment, keep as is.
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app); // Initialize analytics as requested
        const db = getFirestore(app);
        const auth = getAuth(app);

        // Make Firebase instances globally accessible within the script scope
        window.firebaseApp = app;
        window.firebaseDb = db;
        window.firebaseAuth = auth;
        window.firebaseInitialAuthToken = initialAuthToken;
        window.firebaseAppId = appId; // Make appId globally accessible
        window.firebaseDoc = doc;
        window.firebaseGetDoc = getDoc;
        window.firebaseSetDoc = setDoc;
        window.firebaseUpdateDoc = updateDoc;
        window.firebaseDeleteDoc = deleteDoc;
        window.firebaseOnSnapshot = onSnapshot;
        window.firebaseCollection = collection;
        window.firebaseQuery = query;
        window.firebaseWhere = where;
        window.firebaseAddDoc = addDoc;
        window.firebaseGetDocs = getDocs;
        window.firebaseSignInAnonymously = signInAnonymously;
        window.firebaseSignInWithCustomToken = signInWithCustomToken;
        window.firebaseOnAuthStateChanged = onAuthStateChanged;
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f1f5f9; /* Slightly darker light background for better contrast */
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 450px;
            margin-left: auto;
            margin-right: auto;
            /* Responsive height handled by Tailwind classes on the div itself */
        }
        .day-column {
            min-height: 250px; /* Reduced height for two weeks to fit better */
        }
        .modal-bg {
            background-color: rgba(0,0,0,0.5);
        }

        /* Custom Brand Colors - Light Mode */
        .text-brand-charcoal { color: #333333; }
        .bg-brand-charcoal { background-color: #333333; }
        .text-brand-soft-blue { color: #ADD8E6; }
        .bg-brand-soft-blue { background-color: #ADD8E6; }
        .text-brand-coral { color: #FF7F50; }
        .bg-brand-coral { background-color: #FF7F50; }

        /* Dark Mode Styles */
        .dark {
            background-color: #1a202c; /* Dark background for body */
            color: #e2e8f0; /* Light text for body */
        }
        .dark .text-slate-800 { color: #e2e8f0; }
        .dark .text-slate-600 { color: #cbd5e1; } /* Light gray for secondary text */
        .dark .bg-white { background-color: #2d3748; } /* Darker background for cards/sections */
        .dark .bg-slate-200 { /* For platform tags */
            background-color: #4a5568; /* Darker gray */
            color: #e2e8f0;
        }
        /* Day column background in dark mode */
        .dark .day-column {
            background-color: #2d3748; /* Darker background for day columns */
        }
        /* Dark mode custom brand colors override */
        .dark .text-brand-charcoal { color: #e2e8f0; }
        .dark .bg-brand-charcoal { background-color: #1f2937; }
        .dark .text-brand-soft-blue { color: #94a3b8; }
        .dark .bg-brand-soft-blue { background-color: #334155; }
        .dark .text-brand-coral { color: #fca5a5; }
        .dark .bg-brand-coral { background-color: #be123c; }

        /* Status colors in dark mode - keep them distinct but adjust for dark background */
        .dark .bg-rose-200 { background-color: #991b1b; } /* Darker rose */
        .dark .text-rose-800 { color: #fecaca; } /* Lighter rose text */
        .dark .bg-amber-200 { background-color: #92400e; } /* Darker amber */
        .dark .text-amber-800 { color: #fcd34d; } /* Lighter amber text */
        .dark .bg-sky-200 { background-color: #0c4a6e; } /* Darker sky */
        .dark .text-sky-800 { color: #bae6fd; } /* Lighter sky text */
        .dark .bg-emerald-200 { background-color: #065f46; } /* Darker emerald for 'Posted' */
        .dark .text-emerald-800 { color: #a7f3d0; } /* Lighter emerald text for 'Posted' */
        /* New status color for Approval */
        .bg-violet-200 { background-color: #e0cffc; } /* Light violet */
        .text-violet-800 { color: #5b21b6; } /* Dark violet text */
        .dark .bg-violet-200 { background-color: #6d28d9; } /* Darker violet for dark mode */
        .dark .text-violet-800 { color: #d8b4fe; } /* Lighter violet text for dark mode */

        /* Platform specific colors */
        .bg-facebook { background-color: #1877F2; }
        .text-facebook { color: #FFFFFF; }
        .bg-instagram { background-color: #E4405F; }
        .text-instagram { color: #FFFFFF; }
        .bg-tiktok { background-color: #000000; }
        .text-tiktok { color: #FFFFFF; }
        .bg-blog { background-color: #FF5722; } /* Orange for Blog */
        .text-blog { color: #FFFFFF; }
        .bg-linkedin { background-color: #0A66C2; }
        .text-linkedin { color: #FFFFFF; }
        .bg-x { background-color: #000000; } /* Black for X (Twitter) */
        .text-x { color: #FFFFFF; }
        .bg-behance { background-color: #0057FF; } /* Blue for Behance */
        .text-behance { color: #FFFFFF; }
        .bg-youtube { background-color: #FF0000; } /* Red for YouTube */
        .text-youtube { color: #FFFFFF; }

        /* Dark mode platform colors - adjust for better visibility */
        .dark .bg-facebook { background-color: #3b5998; }
        .dark .bg-instagram { background-color: #C13584; }
        .dark .bg-tiktok { background-color: #222222; }
        .dark .bg-blog { background-color: #D32F2F; }
        .dark .bg-linkedin { background-color: #0E76A8; }
        .dark .bg-x { background-color: #222222; }
        .dark .bg-behance { background-color: #3C69E7; }
        .dark .bg-youtube { background-color: #CC0000; }


        /* Dark mode toggle switch dot position */
        #darkModeToggle:checked + div .dot {
            transform: translateX(20px);
        }

        /* Light Mode Day Column Backgrounds */
        .day-column.light-mode-weekday {
            background-color: #e0f2fe; /* A specific light blue for weekdays */
        }
        .day-column.light-mode-weekend {
            background-color: #e0f7fa; /* A slightly different light blue for weekends */
        }

        /* Updated: Western Font for Main Title - Using 'Slackey' */
        .western-font {
            font-family: 'Slackey', cursive, sans-serif; /* Applied new font with fallbacks */
            text-shadow: 2px 2px 3px rgba(0,0,0,0.4); /* Added a subtle shadow for pop */
        }
    </style>
</head>
<body>

    <div class="container mx-auto p-4 md:p-8">

        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font
